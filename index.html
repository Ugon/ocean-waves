<html>
<head>
    <title>Ocean Waves</title>
    <meta http-equiv="content-type" content="text/html">
</head>
<body>
    <canvas id="canvas"></canvas>
</body>

<script type="text/javascript" src='shaders.js'></script>
<script type="text/javascript" src='lib/gl-matrix.js'></script>
<script type="text/javascript" src="camera.js"></script>
<script type="text/javascript" src="renderer.js"></script>
<script type="text/javascript" src="parameters.js"></script>
<script type="text/javascript" src="utils.js"></script>
<script type="text/javascript" src="webgl-boilerplate.js"></script>

<script>
    var canvas = document.getElementById('canvas');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    var renderer = new Renderer();
    var camera = new Camera();
    

    camera.changeAzimuth(100);
    var viewMatrix = camera.getViewMatrix();
    

    // var viewMatrix = mat4.create();
    var projectonMatrix = mat4.create();
    // var distanceVec = vec3.create();
    // var scaleVec = vec3.create();


    mat4.perspective(projectonMatrix, (60 / 180) * Math.PI, window.innerWidth/window.innerHeight, 0, 10000);

    // vec3.set(distanceVec, 0, 0, -2.5);
    // vec3.set(scaleVec, 0.8, 0.8, 0.8);

    // mat4.scale(viewMatrix, viewMatrix, scaleVec);
    // mat4.translate(viewMatrix, viewMatrix, distanceVec);
    // mat4.rotateX(viewMatrix, viewMatrix, Math.PI/4);
    // mat4.rotateY(viewMatrix, viewMatrix, Math.PI/3);

    // console.log(viewMatrix);


    var time = 0;

    var nextFrame = function(){
        time += TIME_STEP;
        renderer.renderFrame(time, viewMatrix, projectonMatrix);
        requestAnimationFrame(nextFrame);
    }
    nextFrame();

    // gl.bindBuffer(gl.ARRAY_BUFFER, vertexBufferFullscreen);
</script>